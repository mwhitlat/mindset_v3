<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mindset - Your Digital Diet Report</title>
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üß†</span>
                    <span class="logo-text">Mindset</span>
                </div>
                <div class="header-actions">
                    <button class="btn btn-secondary" id="toggleDetailsBtn">
                        Show Details
                    </button>
                    <button class="btn btn-secondary" id="exportBtn">
                        <span class="btn-icon">üì§</span>
                        Export Report
                    </button>
                    <button class="btn btn-primary" id="shareBtn">
                        <span class="btn-icon">üìä</span>
                        Share Report
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="dashboard-main">
            <!-- Report Header -->
            <section class="report-header">
                <div class="report-title">
                    <h1>Your Digital Diet Report</h1>
                    <p class="report-subtitle" id="reportDate">Week of Dec 1-7, 2024</p>
                </div>
                <div class="report-summary">
                    <div class="summary-item">
                        <span class="summary-label">Tracking Since</span>
                        <span class="summary-value" id="trackingStartDate">Dec 1, 2024</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Data Points</span>
                        <span class="summary-value" id="totalDataPoints">0</span>
                    </div>
                </div>
            </section>

            <section class="focus-section">
                <div class="focus-card">
                    <div class="focus-label">This Week At A Glance</div>
                    <div class="focus-text" id="focusSummaryText">Loading summary...</div>
                    <div class="focus-action" id="focusActionText">Loading next action...</div>
                </div>
            </section>

            <!-- Score Overview -->
            <section class="scores-overview">
                <h2>Your Digital Health Scores</h2>
                <div class="scores-grid">
                    <div class="score-card primary">
                        <div class="score-header">
                            <span class="score-icon">üèÜ</span>
                            <h3>Overall Health</h3>
                        </div>
                        <div class="score-value" id="overallHealthScore">-</div>
                        <div class="score-stars" id="overallHealthStars"></div>
                        <div class="score-description">Composite of all your digital consumption metrics</div>
                    </div>
                    
                    <div class="score-card">
                        <div class="score-header">
                            <span class="score-icon">‚öñÔ∏è</span>
                            <h3>Content Balance</h3>
                        </div>
                        <div class="score-value" id="contentBalanceScore">-</div>
                        <div class="score-description">Distribution across content categories</div>
                    </div>
                    
                    <div class="score-card">
                        <div class="score-header">
                            <span class="score-icon">üåê</span>
                            <h3>Source Diversity</h3>
                        </div>
                        <div class="score-value" id="sourceDiversityScore">-</div>
                        <div class="score-description">Variety of information sources</div>
                    </div>
                    
                    <div class="score-card">
                        <div class="score-header">
                            <span class="score-icon">‚è∞</span>
                            <h3>Time Management</h3>
                        </div>
                        <div class="score-value" id="timeManagementScore">-</div>
                        <div class="score-description">Healthy usage patterns</div>
                    </div>
                    
                    <div class="score-card">
                        <div class="score-header">
                            <span class="score-icon">üé≠</span>
                            <h3>Content Tone</h3>
                        </div>
                        <div class="score-value" id="contentToneScore">-</div>
                        <div class="score-description">Emotional impact of content</div>
                    </div>
                    
                    <div class="score-card">
                        <div class="score-header">
                            <span class="score-icon">üéØ</span>
                            <h3>Political Balance</h3>
                        </div>
                        <div class="score-value" id="politicalBalanceScore">-</div>
                        <div class="score-description">Ideological diversity</div>
                    </div>
                </div>
            </section>

            <!-- Echo Chamber Check - Primary Feature -->
            <section class="echo-chamber-section">
                <h2>Perspective Balance</h2>
                <div class="echo-chamber-container">
                    <!-- Balance Meter -->
                    <div class="balance-meter-container">
                        <div class="balance-meter">
                            <div class="balance-label left">Left</div>
                            <div class="balance-scale">
                                <div class="balance-track">
                                    <div class="balance-indicator" id="balanceIndicator"></div>
                                    <div class="balance-center-mark"></div>
                                </div>
                                <div class="balance-ticks">
                                    <span>100%</span>
                                    <span>50%</span>
                                    <span>Balanced</span>
                                    <span>50%</span>
                                    <span>100%</span>
                                </div>
                            </div>
                            <div class="balance-label right">Right</div>
                        </div>
                        <div class="balance-status" id="balanceStatus">
                            <span class="status-icon">‚öñÔ∏è</span>
                            <span class="status-text">Analyzing your reading patterns...</span>
                        </div>
                    </div>

                    <!-- Breakdown Stats -->
                    <div class="echo-chamber-stats">
                        <div class="echo-stat">
                            <div class="echo-stat-value" id="leftPercent">-</div>
                            <div class="echo-stat-label">Left-leaning</div>
                            <div class="echo-stat-bar">
                                <div class="echo-stat-fill left" id="leftBar"></div>
                            </div>
                        </div>
                        <div class="echo-stat">
                            <div class="echo-stat-value" id="centerPercent">-</div>
                            <div class="echo-stat-label">Center</div>
                            <div class="echo-stat-bar">
                                <div class="echo-stat-fill center" id="centerBar"></div>
                            </div>
                        </div>
                        <div class="echo-stat">
                            <div class="echo-stat-value" id="rightPercent">-</div>
                            <div class="echo-stat-label">Right-leaning</div>
                            <div class="echo-stat-bar">
                                <div class="echo-stat-fill right" id="rightBar"></div>
                            </div>
                        </div>
                        <div class="echo-stat unknown">
                            <div class="echo-stat-value" id="unknownPercent">-</div>
                            <div class="echo-stat-label">Unrated sources</div>
                        </div>
                    </div>
                </div>

                <!-- Echo Chamber Alert Box (if detected) -->
                <div class="echo-chamber-alert" id="echoChamberAlert" style="display: none;">
                    <div class="alert-icon">‚ö†Ô∏è</div>
                    <div class="alert-content">
                        <h4>Echo Chamber Detected</h4>
                        <p id="echoChamberAlertText">Your reading has been heavily one-sided. Consider exploring different perspectives.</p>
                        <p class="echo-detail" id="recentConsumption"></p>
                        <p class="echo-detail" id="consecutiveInfo" style="display: none;"></p>
                    </div>
                    <div class="alert-action">
                        <button class="btn btn-primary" id="diversifyBtn">See Other Perspectives</button>
                    </div>
                </div>

                <!-- Balanced Reading Message (if balanced) -->
                <div class="balanced-message" id="balancedMessage" style="display: none;">
                    <div class="balanced-icon">‚úÖ</div>
                    <div class="balanced-text">
                        <strong>Well balanced!</strong> You're getting diverse perspectives this week.
                    </div>
                </div>
            </section>

            <!-- Content Breakdown -->
            <section class="content-breakdown secondary-section">
                <h2>Content Breakdown</h2>
                <div class="breakdown-container">
                    <div class="breakdown-chart">
                        <div class="chart-bars" id="contentChart">
                            <!-- Chart bars will be generated here -->
                        </div>
                        <div class="chart-legend">
                            <div class="legend-item">
                                <span class="legend-color news"></span>
                                <span>News & Info</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color social"></span>
                                <span>Social Media</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color entertainment"></span>
                                <span>Entertainment</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color educational"></span>
                                <span>Educational</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color professional"></span>
                                <span>Professional</span>
                            </div>
                        </div>
                    </div>
                    <div class="breakdown-stats">
                        <div class="stat-card">
                            <h4>Most Visited Category</h4>
                            <div class="stat-value" id="topCategory">-</div>
                        </div>
                        <div class="stat-card">
                            <h4>Category Balance</h4>
                            <div class="stat-value" id="categoryBalance">-</div>
                        </div>
                        <div class="stat-card">
                            <h4>Recommendation</h4>
                            <div class="stat-value" id="categoryRecommendation">-</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Time Analysis -->
            <section class="time-analysis secondary-section">
                <h2>Time Analysis</h2>
                <div class="time-container">
                    <div class="time-stats">
                        <div class="time-stat">
                            <h4>Total Time This Week</h4>
                            <div class="time-value" id="totalTime">-</div>
                        </div>
                        <div class="time-stat">
                            <h4>Daily Average</h4>
                            <div class="time-value" id="dailyAverage">-</div>
                        </div>
                        <div class="time-stat">
                            <h4>Longest Session</h4>
                            <div class="time-value" id="longestSession">-</div>
                        </div>
                    </div>
                    <div class="time-chart">
                        <h4>Daily Usage Pattern</h4>
                        <div class="daily-chart" id="dailyChart">
                            <!-- Daily chart will be generated here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Source Analysis -->
            <section class="source-analysis">
                <h2>Source Analysis</h2>
                <div class="source-container">
                    <div class="source-stats">
                        <div class="source-stat">
                            <h4>Unique Domains</h4>
                            <div class="source-value" id="uniqueDomains">-</div>
                        </div>
                        <div class="source-stat">
                            <h4>Average Credibility</h4>
                            <div class="source-value" id="avgCredibility">-</div>
                        </div>
                        <div class="source-stat">
                            <h4>Echo Chamber Risk</h4>
                            <div class="source-value" id="echoChamberRisk">-</div>
                        </div>
                    </div>
                    <div class="source-list">
                        <h4>Top Sources</h4>
                        <div class="source-items" id="topSources">
                            <!-- Top sources will be listed here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Tone & Political Analysis -->
            <section class="tone-political-analysis secondary-section">
                <div class="analysis-grid">
                    <div class="analysis-card">
                        <h3>Content Tone Analysis</h3>
                        <div class="tone-breakdown">
                            <div class="tone-item">
                                <span class="tone-label">Cynical</span>
                                <div class="tone-bar">
                                    <div class="tone-fill cynical" id="cynicalBar"></div>
                                </div>
                                <span class="tone-percentage" id="cynicalPercentage">-</span>
                            </div>
                            <div class="tone-item">
                                <span class="tone-label">Uplifting</span>
                                <div class="tone-bar">
                                    <div class="tone-fill uplifting" id="upliftingBar"></div>
                                </div>
                                <span class="tone-percentage" id="upliftingPercentage">-</span>
                            </div>
                            <div class="tone-item">
                                <span class="tone-label">Neutral</span>
                                <div class="tone-bar">
                                    <div class="tone-fill neutral" id="neutralBar"></div>
                                </div>
                                <span class="tone-percentage" id="neutralPercentage">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="analysis-card">
                        <h3>Political Balance</h3>
                        <div class="political-breakdown">
                            <div class="political-item">
                                <span class="political-label">Liberal</span>
                                <div class="political-bar">
                                    <div class="political-fill liberal" id="liberalBar"></div>
                                </div>
                                <span class="political-percentage" id="liberalPercentage">-</span>
                            </div>
                            <div class="political-item">
                                <span class="political-label">Conservative</span>
                                <div class="political-bar">
                                    <div class="political-fill conservative" id="conservativeBar"></div>
                                </div>
                                <span class="political-percentage" id="conservativePercentage">-</span>
                            </div>
                            <div class="political-item">
                                <span class="political-label">Centrist</span>
                                <div class="political-bar">
                                    <div class="political-fill centrist" id="centristBar"></div>
                                </div>
                                <span class="political-percentage" id="centristPercentage">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Insights & Recommendations -->
            <section class="insights-recommendations secondary-section">
                <h2>Insights & Recommendations</h2>
                <div class="insights-container">
                    <div class="insights-list" id="insightsList">
                        <!-- Insights will be generated here -->
                    </div>
                    <div class="recommendations">
                        <h3>This Week's Goals</h3>
                        <div class="goals-list" id="goalsList">
                            <!-- Goals will be generated here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Historical Trends Section -->
            <section class="history-section secondary-section">
                <h2>Trends Over Time</h2>

                <!-- Import History Banner (shown when little/no data) -->
                <div class="import-history-banner" id="importHistoryBanner" style="display: none;">
                    <div class="import-history-content">
                        <div class="import-history-icon">üì•</div>
                        <div class="import-history-text">
                            <h4>Import Browser History</h4>
                            <p>Want to see trends from before you installed Mindset? You can optionally import your browser history.</p>
                            <p class="privacy-note"><span class="privacy-icon">üîí</span> <strong>Your data stays on your device.</strong> Mindset processes everything locally and never sends your browsing data anywhere.</p>
                        </div>
                    </div>
                    <div class="import-history-actions">
                        <button class="btn btn-primary" id="importHistoryBtn">
                            <span class="btn-icon">üì•</span>
                            Import History
                        </button>
                        <button class="btn btn-secondary" id="dismissImportBtn">Not Now</button>
                    </div>
                </div>

                <!-- Import Progress (shown during import) -->
                <div class="import-progress" id="importProgress" style="display: none;">
                    <div class="import-progress-bar">
                        <div class="import-progress-fill" id="importProgressFill"></div>
                    </div>
                    <p id="importProgressText">Importing history...</p>
                </div>

                <!-- Week Selector -->
                <div class="week-selector">
                    <button class="btn btn-secondary" id="prevWeeksBtn">Show More Weeks</button>
                    <span id="weekRangeLabel">Last 8 weeks</span>
                    <button class="btn btn-secondary" id="showImportBtn" style="margin-left: auto;">
                        <span class="btn-icon">üì•</span>
                        Import History
                    </button>
                </div>

                <!-- Trend Chart -->
                <div class="trend-chart-container">
                    <div class="trend-chart" id="trendChart"></div>
                    <div class="trend-legend" id="trendLegend">
                        <div class="legend-item active" data-metric="overallHealth">
                            <span class="legend-color" style="background: #667eea;"></span>
                            <span>Overall Health</span>
                        </div>
                        <div class="legend-item active" data-metric="credibility">
                            <span class="legend-color" style="background: #48bb78;"></span>
                            <span>Credibility</span>
                        </div>
                        <div class="legend-item active" data-metric="contentTone">
                            <span class="legend-color" style="background: #ed8936;"></span>
                            <span>Content Tone</span>
                        </div>
                        <div class="legend-item active" data-metric="politicalBalance">
                            <span class="legend-color" style="background: #9f7aea;"></span>
                            <span>Political Balance</span>
                        </div>
                        <div class="legend-item" data-metric="contentBalance">
                            <span class="legend-color" style="background: #4299e1;"></span>
                            <span>Content Balance</span>
                        </div>
                        <div class="legend-item" data-metric="sourceDiversity">
                            <span class="legend-color" style="background: #f56565;"></span>
                            <span>Source Diversity</span>
                        </div>
                        <div class="legend-item" data-metric="timeManagement">
                            <span class="legend-color" style="background: #38b2ac;"></span>
                            <span>Time Management</span>
                        </div>
                    </div>
                </div>

                <!-- Week-over-Week Summary -->
                <div class="wow-summary" id="wowSummary"></div>
            </section>

            <!-- Raw Visit Data Section -->
            <section class="visits-section secondary-section">
                <h2>Browsing History</h2>

                <!-- Week Filter -->
                <div class="week-filter">
                    <select id="weekSelect"></select>
                    <select id="categoryFilter">
                        <option value="all">All Categories</option>
                        <option value="news">News</option>
                        <option value="social">Social</option>
                        <option value="entertainment">Entertainment</option>
                        <option value="educational">Educational</option>
                        <option value="professional">Professional</option>
                    </select>
                </div>

                <!-- Visits Table -->
                <div class="visits-table-container">
                    <table class="visits-table" id="visitsTable">
                        <thead>
                            <tr>
                                <th data-sort="timestamp">Date/Time</th>
                                <th data-sort="domain">Domain</th>
                                <th data-sort="title">Title</th>
                                <th data-sort="category">Category</th>
                                <th data-sort="credibility">Credibility</th>
                                <th data-sort="tone">Tone</th>
                                <th data-sort="politicalBias">Bias</th>
                                <th data-sort="duration">Duration</th>
                            </tr>
                        </thead>
                        <tbody id="visitsTableBody">
                            <!-- Visits will be generated here -->
                        </tbody>
                    </table>
                </div>

                <!-- Pagination -->
                <div class="visits-pagination">
                    <span id="visitsCount">0 visits</span>
                    <button class="btn btn-secondary" id="loadMoreVisitsBtn">Load More</button>
                </div>
            </section>

            <!-- Shareable Report Card -->
            <section class="shareable-report secondary-section">
                <h2>Share Your Report</h2>
                <div class="share-card" id="shareCard">
                    <div class="share-header">
                        <span class="share-icon">üìä</span>
                        <h3>My Digital Diet Report</h3>
                    </div>
                    <div class="share-content">
                        <div class="share-score">
                            <span class="share-score-label">Overall Health</span>
                            <span class="share-score-value" id="shareOverallHealth">-</span>
                        </div>
                        <div class="share-breakdown">
                            <span class="share-breakdown-label">Content Breakdown:</span>
                            <span class="share-breakdown-value" id="shareContentBreakdown">-</span>
                        </div>
                        <div class="share-achievement">
                            <span class="share-achievement-text" id="shareAchievement">-</span>
                        </div>
                    </div>
                    <div class="share-footer">
                        <span class="share-footer-text">Generated by Mindset - Understand your digital diet</span>
                    </div>
                </div>
                <div class="share-actions">
                    <button class="btn btn-primary" id="downloadImageBtn">
                        <span class="btn-icon">üì∑</span>
                        Download as Image
                    </button>
                    <button class="btn btn-secondary" id="copyLinkBtn">
                        <span class="btn-icon">üîó</span>
                        Copy Link
                    </button>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="dashboard-footer">
            <div class="footer-content">
                <div class="privacy-note">
                    <span class="privacy-icon">üîí</span>
                    <span>All data is processed locally and stays on your device</span>
                </div>
                <div class="footer-links">
                    <a href="#" id="settingsLink">Settings</a>
                    <a href="#" id="exportDataLink">Export Data</a>
                    <a href="#" id="deleteDataLink">Delete Data</a>
                </div>
            </div>
        </footer>
    </div>

    <script src="dashboard.js"></script>
</body>
</html> 
