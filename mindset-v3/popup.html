<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mindset</title>
    <link rel="stylesheet" href="popup.css">
  </head>
  <body>
    <main class="app">
      <header class="section">
        <h1 class="display">Weekly Reflection</h1>
        <p class="secondary">A descriptive summary of your browsing distribution for the last 7 days.</p>
        <p class="label">Reflection is generated locally from weekly aggregate activity.</p>
      </header>

      <section class="section">
        <button id="generateReportButton" class="button" type="button">Generate Report</button>
        <p id="statusText" class="label">Ready.</p>
      </section>

      <section class="section">
        <h2 class="body">Domain Distribution</h2>
        <div id="domainChart" class="chart"></div>
      </section>

      <section class="section">
        <h2 class="body">Summary</h2>
        <div id="summaryBlock" class="summary-grid">
          <p class="label">No report generated yet.</p>
        </div>
      </section>

      <section class="section">
        <h2 class="body">Performance</h2>
        <div id="performanceBlock" class="summary-grid">
          <p class="label">No performance data available yet.</p>
        </div>
      </section>

      <section class="section" id="governanceSection">
        <h2 class="body">Governance</h2>
        <label class="inline-toggle">
          <input id="reviewRequiredCheckbox" type="checkbox">
          <span class="label">Manual Review Required</span>
        </label>
        <div class="actions-row">
          <button id="rollbackButton" class="button" type="button">Rollback to Last Approved Snapshot</button>
        </div>
        <p id="governanceStatusText" class="label">Governance controls ready.</p>
        <div id="proposalLogList" class="log-list">
          <p class="label">No governance proposals logged yet.</p>
        </div>
      </section>

      <section class="section" id="replaySection">
        <h2 class="body">Replay Lite</h2>
        <div class="actions-row">
          <button id="createReplaySnapshotButton" class="button" type="button">Create Replay Snapshot</button>
          <button id="runReplayDiffButton" class="button" type="button">Run Replay Diff</button>
        </div>
        <p id="replayStatusText" class="label">Replay tools ready.</p>
        <div id="replayDiffBlock" class="log-list">
          <p class="label">No replay diff available yet.</p>
        </div>
      </section>

      <section class="section" id="exposureSection">
        <h2 class="body">Exposure</h2>
        <div id="exposureBlock" class="log-list">
          <p class="label">Generate a report to view adjacent perspective options.</p>
        </div>
      </section>

      <section class="section">
        <h2 class="body">Sandbox</h2>
        <label class="inline-toggle">
          <input id="sandboxEnabledCheckbox" type="checkbox">
          <span class="label">Sandbox Mode Enabled</span>
        </label>
        <label class="label" for="sandboxVariantSelect">Variant</label>
        <select id="sandboxVariantSelect" class="select">
          <option value="baseline">baseline</option>
          <option value="compact">compact</option>
          <option value="replay_focus">replay_focus</option>
          <option value="exposure_focus">exposure_focus</option>
        </select>
        <p id="sandboxStatusText" class="label">Sandbox controls ready.</p>
      </section>

      <section class="section">
        <h2 class="body">Density</h2>
        <div class="actions-row">
          <button id="runDensityCheckButton" class="button" type="button">Run Density Check</button>
        </div>
        <div id="densityBlock" class="log-list">
          <p class="label">No density check run yet.</p>
        </div>
      </section>

      <section class="section">
        <h2 class="body">Trust Proxies</h2>
        <div id="trustProxyBlock" class="summary-grid">
          <p class="label">No trust proxy data available yet.</p>
        </div>
        <div class="actions-row">
          <button id="recordNegativeFeedbackButton" class="button" type="button">Record Negative Feedback</button>
          <button id="recordSectionDisablementButton" class="button" type="button">Record Section Disablement</button>
        </div>
        <label class="inline-toggle">
          <input id="uninstallProxyFlagCheckbox" type="checkbox">
          <span class="label">Uninstall Proxy Flag</span>
        </label>
      </section>

      <section class="section">
        <h2 class="body">Reflection</h2>
        <pre id="reflectionText" class="text-block">No report generated yet.</pre>
      </section>
    </main>
    <script src="popup.js"></script>
  </body>
</html>
